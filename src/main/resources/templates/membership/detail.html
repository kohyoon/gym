<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>회원권 상세정보</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-5">
  <h2 class="mb-4">회원권 상세정보</h2>

  <script th:if="${editMessage}" th:inline="javascript">
    alert("회원권 정보가 수정되었습니다.");
  </script>

  <div class="card">
    <div class="card-body">

      <!-- 회원 이름 -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">회원명</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" th:value="${membership.memberName}" readonly>
        </div>
      </div>

      <!-- 회원권 종류 -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">회원권 종류</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" th:value="${membership.membershipType}" readonly>
        </div>
      </div>

      <!-- 이용 기간 -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">이용 기간</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" th:value="${membership.periodDays + '일'}" readonly>
        </div>
      </div>

      <!-- 가격 -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">가격</label>
        <div class="col-sm-10">
          <input type="text" class="form-control"
                 th:value="${#numbers.formatInteger(membership.price, 0, 'COMMA') + '원'}"
                 readonly>
        </div>
      </div>

      <!-- 시작일 -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">시작일</label>
        <div class="col-sm-10">
          <input type="date" class="form-control" th:value="${#temporals.format(membership.startDate, 'yyyy-MM-dd')}" readonly>
        </div>
      </div>

      <!-- 종료일 -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">종료일</label>
        <div class="col-sm-10">
          <input type="date" class="form-control" th:value="${#temporals.format(membership.endDate, 'yyyy-MM-dd')}" readonly>
        </div>
      </div>

      <div th:if="${membership.membershipStatus == 2}">
        <!-- 정지 시작일 -->
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">정지 시작일</label>
          <div class="col-sm-10">
            <input type="date" class="form-control" th:value="${#temporals.format(membership.suspendStartDate, 'yyyy-MM-dd')}" readonly>
          </div>
        </div>

        <!-- 정지 종료일 -->
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">정지 종료일</label>
          <div class="col-sm-10">
            <input type="date" class="form-control" th:value="${#temporals.format(membership.suspendEndDate, 'yyyy-MM-dd')}" readonly>
          </div>
        </div>

        <!-- 새로운 종료일 -->
        <div class="mb-3 row">
          <label class="col-sm-2 col-form-label">새로운 종료일</label>
          <div class="col-sm-10">
            <input type="date" class="form-control" th:value="${#temporals.format(membership.extendedEndDate, 'yyyy-MM-dd')}" readonly>
          </div>
        </div>
      </div>

      <!-- 상태 -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">상태</label>
        <div class="col-sm-10">
          <span class="form-control bg-light" readonly
                th:text="${membership.membershipStatus == 1 ? '이용중' :
                          (membership.membershipStatus == 2 ? '정지' :
                          (membership.membershipStatus == 3 ? '환불' : '종료'))}">
          </span>
        </div>
      </div>

    </div>
  </div>

  <!-- 버튼 -->
  <div class="mt-4 text-end">
    <a href="/membership/list" class="btn btn-secondary">목록으로</a>

    <a th:if="${membership.membershipStatus == 1}"
       th:href="@{'/membership/edit/' + ${membership.membershipId}}"
       class="btn btn-primary">수정</a>
  </div>

  </div>
</div>



</body>
</html>
